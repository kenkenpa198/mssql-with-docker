<!-- omit in toc -->
# コマンドメモ : シェル

Docker や SQL Server の操作でよく使う基本的なコマンドをまとめています。

<!-- omit in toc -->
## 目次

- [1. Docker](#1-docker)
- [2. Docker Compose](#2-docker-compose)
- [3. sqlcmd](#3-sqlcmd)

## 1. Docker

- Docker の起動確認・起動・停止

    ```shell
    $ sudo service docker status                # 確認
    * Docker is not running

    $ sudo service docker start                 # 起動する
    * Starting Docker: docker        [ OK ]

    $ sudo service docker status                # こう表示されれば OK
    * Docker is running

    $ sudo service docker stop                  # 止める場合はコレ
    * Stopping Docker: docker        [ OK ]
    ```

- 起動中の Docker Image を表示

    ```shell
    $ docker ps
    ```

## 2. Docker Compose

- コンテナをバックグラウンドで起動

    ```shell
    $ docker-compose up -d
    ```

- 起動しているコンテナに bash で入る

    ```shell
    $ docker-compose exec db bash

    # 抜けるときは `exit` を送信する
    ```

- 起動しているコンテナを停止する

    ```shell
    $ docker-compose stop
    ```

- 起動しているコンテナのログを表示する

    ```shell
    $ docker-compose logs -f
    ```

- コンテナを削除する

    ```shell
    $ docker-compose down
    ```

## 3. sqlcmd

- SQL Server へログインする

    ```shell
    $ sqlcmd -S localhost -U SA -P 'Test1234'
    ```

- ログイン + SQL をファイルから読みだして実行する

    ```shell
    $ sqlcmd -S localhost -U SA -P 'Test1234' -i /mount_dir/sql/show_databases.sql
    ```
